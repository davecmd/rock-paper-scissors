<!DOCTYPE html>
<html>
<head>
    <title> Page Title </title>
</head>
<body>
    <script> 
    let outcome;
    let playerScore = 0;
    let computerScore = 0;

    function getRandomInt(min,max) {
        // Use integers only for min/max
        return Math.floor(Math.random() * (max - min + 1)) + min;
    }
    function computerPlay(){
        let choice = getRandomInt(1,3);
        switch (choice) {
            case 1:
            return "rock";
            break;
            case 2:
            return "paper";
            break;
            case 3:
            return "scissors";
            break;

        }
        console.log(choice);
    }
    function playRound(playerSelection, computerSelection) {
        console.log ("Computer Choice: " + computerSelection);
        switch (playerSelection) { 
            case "rock": 
                switch (computerSelection) {
                    case "rock":
                    outcome = "tie";
                    console.log("You tie!");
                    break;
                    case "paper":
                    outcome = "lose";
                    console.log("You Lose! " + computerSelection + " beats " + playerSelection);
                    break;
                    case "scissors":
                    outcome = "win";
                    console.log("You Win! " + playerSelection + " beats " + computerSelection);
                    break;
                }
            
                case "paper": 
                switch (computerSelection) {
                    case "paper":
                    outcome = "tie";
                    console.log("You tie!");
                    break;
                    case "scissors":
                    outcome = "lose";
                    console.log("You Lose! " + computerSelection + " beats " + playerSelection);
                    break;
                    case "rock":
                    outcome = "win";
                    console.log("You Win! " + playerSelection + " beats " + computerSelection);
                    break;
                } 
            
                case "scissors": 
                switch (computerSelection) {
                    case "scissors":
                    outcome = "tie";
                    console.log("You tie!");
                    break;
                    case "rock":
                    outcome = "lose";
                    console.log("You Lose! " + computerSelection + " beats " + playerSelection);
                    break;
                    case "paper":
                    outcome = "win";
                    console.log("You Win! " + playerSelection + " beats " + computerSelection);
                    break;
                }
        }
    }
    function getPlayerChoice () {
        let playerChoice = window.prompt("Rock, paper or scissors?");
        playerChoice.toLowerCase();
        if (playerChoice == "rock") {
            return "rock";
        }
        else if (playerChoice == "paper") {
            return "paper";
        }
        else if (playerChoice == "scissors") {
            return "scissors";
        }
        else {
            getPlayerChoice();
        }
    }

    function scoreOutcome() {
        if (outcome == "win") {
            playerScore++;
        }
        else if (outcome == "lose") {
            computerScore++;
        }
        console.log("playerscore: " + playerScore);
        console.log("computerscore: " + computerScore);
    }

    function decideWinner() {
        if (playerScore > computerScore) {
            console.log("YOU WON THE GAME!");
        }
        else if (playerScore < computerScore) {
            console.log("YOU LOSE THE GAME!");
        }
        else {
            console.log("YOU TIE THE GAME!");
        }
    }
    function scoreRound() {
        playRound(getPlayerChoice(), computerPlay());
        scoreOutcome();
    }

    function game() {
        for (var i = 0; i < 5; i++){
            scoreRound();
        }
        decideWinner();

    }
    game();
    </script>
</body>    
</html>